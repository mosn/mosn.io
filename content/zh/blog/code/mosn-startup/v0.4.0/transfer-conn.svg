<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="652" height="333" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[新MOSN->新MOSN: 开启数据平面
新MOSN->旧MOSN: 通知退出
新MOSN->新MOSN: 监听 conn.sock
旧MOSN->新MOSN: 建立在 conn.sock 上的连接，并转移长连接
旧MOSN->旧MOSN: 等待一段时间后退出
]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="10" y="20" width="75.90625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="21" y="45" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">新MOSN</tspan></text></g><g class="actor"><rect x="10" y="274" width="75.90625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="21" y="299" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">新MOSN</tspan></text></g><line x1="47.953125" x2="47.953125" y1="59" y2="274" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="362.46875" y="20" width="74.90625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="372.46875" y="45" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="372.46875">旧MOSN</tspan></text></g><g class="actor"><rect x="362.46875" y="274" width="74.90625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="372.46875" y="299" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="372.46875">旧MOSN</tspan></text></g><line x1="399.921875" x2="399.921875" y1="59" y2="274" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="73.953125" y="93.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="72.953125">开启数据平面</tspan></text><line x1="47.953125" x2="67.953125" y1="79" y2="79" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="67.953125" x2="67.953125" y1="79" y2="103" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="67.953125" x2="47.953125" y1="103" y2="103" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="192.4296875" y="128.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="191.4296875">通知退出</tspan></text><line x1="47.953125" x2="399.921875" y1="137" y2="137" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="73.953125" y="171.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="72.953125">监听 conn.sock</tspan></text><line x1="47.953125" x2="67.953125" y1="157" y2="157" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="67.953125" x2="67.953125" y1="157" y2="181" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="67.953125" x2="47.953125" y1="181" y2="181" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="58.953125" y="206.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="57.953125">建立在 conn.sock 上的连接，并转移长连接</tspan></text><line x1="399.921875" x2="47.953125" y1="215" y2="215" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="425.921875" y="249.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="424.921875">等待一段时间后退出</tspan></text><line x1="399.921875" x2="419.921875" y1="235" y2="235" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="419.921875" x2="419.921875" y1="235" y2="259" stroke="#000000" fill="none" style="stroke-width: 2;"></line><line x1="419.921875" x2="399.921875" y1="259" y2="259" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>